var THREECapsuleBufferGeometry=function(t,e){"use strict";function r(t,r,o,a,s,n,i,u,c){e.BufferGeometry.call(this),this.type="CapsuleBufferGeometry",this.parameters={radiusTop:t,radiusBottom:r,height:o,radialSegments:a,heightSegments:s,thetaStart:u,thetaLength:c},t=void 0!==t?t:1,r=void 0!==r?r:1,o=void 0!==o?o:2,a=Math.floor(a)||8,s=Math.floor(s)||1,n=Math.floor(n)||2,i=Math.floor(i)||2,u=void 0!==u?u:0,c=void 0!==c?c:2*Math.PI;var l=Math.acos((r-t)/o),h=(a+1)*(s+1+i+n),f=a*(s+i+n)*2*3,y=new e.BufferAttribute(new(f>65535?Uint32Array:Uint16Array)(f),1),p=new e.BufferAttribute(new Float32Array(3*h),3),M=new e.BufferAttribute(new Float32Array(3*h),3),w=new e.BufferAttribute(new Float32Array(2*h),2),d=0,m=0,V=[],v=o/2;!function(){var h,f,x=new e.Vector3,b=new e.Vector3,z=Math.cos(l),X=Math.sin(l),B=new e.Vector2(t*X,v+t*z).sub(new e.Vector2(r*X,r*z-v)).length(),A=t*l+B+r*(Math.PI/2-l),E=0;for(f=0;f<=n;f++){var Y=[],G=Math.PI/2-l*(f/n);E+=t*l/n;var T=Math.cos(G),P=Math.sin(G),R=T*t;for(h=0;h<=a;h++){var g=(Z=h/a)*c+u,C=Math.sin(g),H=Math.cos(g);b.x=R*C,b.y=v+P*t,b.z=R*H,p.setXYZ(d,b.x,b.y,b.z),x.set(T*C,P,T*H),M.setXYZ(d,x.x,x.y,x.z),w.setXY(d,Z,1-E/A),Y.push(d),d++}V.push(Y)}var I=o+z*t-z*r,S=X*(r-t)/I;for(f=1;f<=s;f++){Y=[];E+=B/s;R=X*(f*(r-t)/s+t);for(h=0;h<=a;h++){g=(Z=h/a)*c+u,C=Math.sin(g),H=Math.cos(g);b.x=R*C,b.y=v+z*t-f*I/s,b.z=R*H,p.setXYZ(d,b.x,b.y,b.z),x.set(C,S,H).normalize(),M.setXYZ(d,x.x,x.y,x.z),w.setXY(d,Z,1-E/A),Y.push(d),d++}V.push(Y)}for(f=1;f<=i;f++){Y=[],G=Math.PI/2-l-(Math.PI-l)*(f/i);E+=r*l/i;T=Math.cos(G),P=Math.sin(G),R=T*r;for(h=0;h<=a;h++){var Z;g=(Z=h/a)*c+u,C=Math.sin(g),H=Math.cos(g);b.x=R*C,b.y=P*r-v,b.z=R*H,p.setXYZ(d,b.x,b.y,b.z),x.set(T*C,P,T*H),M.setXYZ(d,x.x,x.y,x.z),w.setXY(d,Z,1-E/A),Y.push(d),d++}V.push(Y)}for(h=0;h<a;h++)for(f=0;f<n+s+i;f++){var F=V[f][h],k=V[f+1][h],U=V[f+1][h+1],j=V[f][h+1];y.setX(m,F),m++,y.setX(m,k),m++,y.setX(m,j),m++,y.setX(m,k),m++,y.setX(m,U),m++,y.setX(m,j),m++}}(),this.setIndex(y),this.setAttribute("position",p),this.setAttribute("normal",M),this.setAttribute("uv",w)}return r.prototype=Object.create(e.BufferGeometry.prototype),r.prototype.constructor=r,r.fromPoints=function(t,o,a,s,n,i,u,c,l,h){let f=null,y=null,p=null,M=null;y=t,f=o,M=a,p=s;const w=f,d=y,m=p,V=M,v=new e.Vector3(w.x,w.y,w.z),x=new e.Vector3(d.x,d.y,d.z),b=m,z=V;let X=v.distanceTo(x);if(X<Math.abs(m-V)){let t=new e.SphereBufferGeometry(V,n,c,l,h);return t.translate(V.x,V.y,V.z),t}const B=Math.acos((z-b)/X),A=Math.cos(B),E=new e.Matrix4,Y=new e.Quaternion,G=new e.Vector3(0,1,0),T=new e.Vector3;T.subVectors(v,x),T.normalize(),Y.setFromUnitVectors(G,T),E.makeRotationFromQuaternion(Y);const P=new e.Matrix4,R=new e.Vector3;R.subVectors(v,x),R.normalize();let g=new e.Vector3;g=v,g.addScaledVector(R,A*b);let C=new e.Vector3;C=x,C.addScaledVector(R,A*z);const H=new e.Vector3;H.subVectors(C,g),H.normalize();const I=new e.Vector3;I.lerpVectors(C,g,.5),P.makeTranslation(I.x,I.y,I.z);let S=new r(z,b,X,n,i,u,c,l,h);return S.applyMatrix(E),S.applyMatrix(P),S},function(t,e){try{if(void 0===THREE[t])return void(THREE[t]=e);if(THREE[t]!==e){throw`CapsuleBufferGeometry: ${t} is duplicated. Your bundle includes ${t} twice. Please repair your bundle.`}}catch{console.warn("CapsuleBufferGeometry: THREE is not defined. Duplication check unavailable.")}}("CapsuleBufferGeometry",r),t.CapsuleBufferGeometry=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({},THREE);
