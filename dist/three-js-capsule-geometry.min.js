var THREECapsuleBufferGeometry=function(e,t){"use strict";class r extends t.BufferGeometry{constructor(e,r,o,a,s,n,i,u,c){super(),this.type="CapsuleBufferGeometry",this.parameters={radiusTop:e,radiusBottom:r,height:o,radialSegments:a,heightSegments:s,thetaStart:u,thetaLength:c},e=void 0!==e?e:1,r=void 0!==r?r:1,o=void 0!==o?o:2,a=Math.floor(a)||8,s=Math.floor(s)||1,n=Math.floor(n)||2,i=Math.floor(i)||2,u=void 0!==u?u:0,c=void 0!==c?c:2*Math.PI;var l=Math.acos((r-e)/o),h=(a+1)*(s+1+i+n),f=a*(s+i+n)*2*3,y=new t.BufferAttribute(new(f>65535?Uint32Array:Uint16Array)(f),1),M=new t.BufferAttribute(new Float32Array(3*h),3),w=new t.BufferAttribute(new Float32Array(3*h),3),d=new t.BufferAttribute(new Float32Array(2*h),2),p=0,m=0,V=[],v=o/2;!function(){var h,f,x=new t.Vector3,z=new t.Vector3,b=Math.cos(l),X=Math.sin(l),B=new t.Vector2(e*X,v+e*b).sub(new t.Vector2(r*X,r*b-v)).length(),A=e*l+B+r*(Math.PI/2-l),E=0;for(f=0;f<=n;f++){var Y=[],T=Math.PI/2-l*(f/n);E+=e*l/n;var G=Math.cos(T),P=Math.sin(T),R=G*e;for(h=0;h<=a;h++){var g=(Z=h/a)*c+u,C=Math.sin(g),H=Math.cos(g);z.x=R*C,z.y=v+P*e,z.z=R*H,M.setXYZ(p,z.x,z.y,z.z),x.set(G*C,P,G*H),w.setXYZ(p,x.x,x.y,x.z),d.setXY(p,Z,1-E/A),Y.push(p),p++}V.push(Y)}var I=o+b*e-b*r,S=X*(r-e)/I;for(f=1;f<=s;f++){Y=[];E+=B/s;R=X*(f*(r-e)/s+e);for(h=0;h<=a;h++){g=(Z=h/a)*c+u,C=Math.sin(g),H=Math.cos(g);z.x=R*C,z.y=v+b*e-f*I/s,z.z=R*H,M.setXYZ(p,z.x,z.y,z.z),x.set(C,S,H).normalize(),w.setXYZ(p,x.x,x.y,x.z),d.setXY(p,Z,1-E/A),Y.push(p),p++}V.push(Y)}for(f=1;f<=i;f++){Y=[],T=Math.PI/2-l-(Math.PI-l)*(f/i);E+=r*l/i;G=Math.cos(T),P=Math.sin(T),R=G*r;for(h=0;h<=a;h++){var Z;g=(Z=h/a)*c+u,C=Math.sin(g),H=Math.cos(g);z.x=R*C,z.y=P*r-v,z.z=R*H,M.setXYZ(p,z.x,z.y,z.z),x.set(G*C,P,G*H),w.setXYZ(p,x.x,x.y,x.z),d.setXY(p,Z,1-E/A),Y.push(p),p++}V.push(Y)}for(h=0;h<a;h++)for(f=0;f<n+s+i;f++){var F=V[f][h],k=V[f+1][h],U=V[f+1][h+1],Q=V[f][h+1];y.setX(m,F),m++,y.setX(m,k),m++,y.setX(m,Q),m++,y.setX(m,k),m++,y.setX(m,U),m++,y.setX(m,Q),m++}}(),this.setIndex(y),this.setAttribute("position",M),this.setAttribute("normal",w),this.setAttribute("uv",d)}static fromPoints(e,o,a,s,n,i,u,c,l,h){let f=null,y=null,M=null,w=null;y=e,f=o,w=a,M=s;const d=f,p=y,m=M,V=w,v=new t.Vector3(d.x,d.y,d.z),x=new t.Vector3(p.x,p.y,p.z),z=m,b=V;let X=v.distanceTo(x);if(X<Math.abs(m-V)){let e=new t.SphereBufferGeometry(V,n,c,l,h);return e.translate(V.x,V.y,V.z),e}const B=Math.acos((b-z)/X),A=Math.cos(B),E=new t.Matrix4,Y=new t.Quaternion,T=new t.Vector3(0,1,0),G=new t.Vector3;G.subVectors(v,x),G.normalize(),Y.setFromUnitVectors(T,G),E.makeRotationFromQuaternion(Y);const P=new t.Matrix4,R=new t.Vector3;R.subVectors(v,x),R.normalize();let g=new t.Vector3;g=v,g.addScaledVector(R,A*z);let C=new t.Vector3;C=x,C.addScaledVector(R,A*b);const H=new t.Vector3;H.subVectors(C,g),H.normalize();const I=new t.Vector3;I.lerpVectors(C,g,.5),P.makeTranslation(I.x,I.y,I.z);let S=new r(b,z,X,n,i,u,c,l,h);return S.applyMatrix(E),S.applyMatrix(P),S}}return function(e,t){try{if(void 0===THREE[e])return void(THREE[e]=t);if(THREE[e]!==t){throw`CapsuleBufferGeometry: ${e} is duplicated. Your bundle includes ${e} twice. Please repair your bundle.`}}catch{console.warn("CapsuleBufferGeometry: THREE is not defined. Duplication check unavailable.")}}("CapsuleBufferGeometry",r),e.CapsuleBufferGeometry=r,Object.defineProperty(e,"__esModule",{value:!0}),e}({},THREE);
